<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	class Circle {
		constructor(color) {
			this.color = color;
		}

		draw() {
			console.log(`Circle: ${this.color}`);
		}
	}

	class CircleFactory {
		constructor() {
			this.circles = {};
		}

		getCircle(color) {
			let circle = this.circles[color];

			if (!circle) {
				circle = new Circle(color);
				this.circles[color] = circle;
				console.log(`New ${color} circle was created`);
			}

			return circle;
		}
	}

	(() => {
		const colors = ["Red", "Green", "Blue", "White", "Black"],
			circleFactory = new CircleFactory();

		for (let i = 0; i < 20; i++) {
			const circle = circleFactory.getCircle(getRandomColor());
			circle.draw();
		}

		function getRandomColor() {
			return colors[parseInt(Math.random() * colors.length)];
		}
	})();
</script>
</body>
</html>