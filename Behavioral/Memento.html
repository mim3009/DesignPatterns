<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	class Person {
		constructor(name, city) {
			this.name = name;
			this.city = city;
		}

		pack() {
			return JSON.stringify(this);
		}

		renew(memento) {
			let m = JSON.parse(memento);
			this.name = m.name;
			this.city = m.city;
		}
	}

	class CareTaker {
		constructor() {
			this.mementos = {};
		}

		add(key, memento) {
			this.mementos[key] = memento;
		}

		get(key) {
			return this.mementos[key];
		}
	}

	let roma = new Person("Roma", "Kyiv"),
		kate = new Person("Kate", "Chernihiv"),
		caretaker = new CareTaker();

	caretaker.add(1, roma.pack());
	caretaker.add(2, kate.pack());

	roma.name = "Lalala";
	kate.name = "AAA";

	roma.renew(caretaker.get(1));
	kate.renew(caretaker.get(2));

	console.log(roma.name);
	console.log(kate.name);
</script>
</body>
</html>